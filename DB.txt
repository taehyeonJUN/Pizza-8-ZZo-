CREATE TABLE MEMBER(
MEM_ID VARCHAR(50) PRIMARY KEY,
MEM_NAME VARCHAR (50) NOT NULL,
MEM_PW VARCHAR(50) NOT NULL,
MEM_PN VARCHAR(50) NOT NULL,
ROL VARCHAR(50) DEFAULT 'USER',
CONSTRAINT MEMBER_CH_ROL CHECK (ROL IN('ADMIN','USER')
));
COMMIT;
SELECT*FROM LIST;

CREATE TABLE MENU(
ME_ID NUMBER(10,0) PRIMARY KEY,
ME_NAME VARCHAR (50) NOT NULL,
ME_PRICE INT NOT NULL,
ME_SORT VARCHAR(50) NOT NULL,
CONSTRAINT MENU_CH_SORT CHECK (ME_SORT IN('TOPPING','SIDE','SIZE')
));

CREATE TABLE LIST(
LI_ID NUMBER(10,0) PRIMARY KEY,
LI_USER VARCHAR (50) NOT NULL,
LI_MEID NUMBER(10,0) NOT NULL,
LI_MEPRICE VARCHAR(50) NOT NULL,
LI_EA NUMBER(10,0) NOT NULL,
LI_OR_NUM NUMBER(10,0) NOT NULL,
FOREIGN KEY(LI_OR_NUM) REFERENCES PIORDER(OR_ID) ON DELETE CASCADE
);

CREATE TABLE PIORDER(
OR_ID NUMBER(10,0) PRIMARY KEY,
OR_USER VARCHAR (50) NOT NULL,
OR_UNAME NUMBER(10,0) NOT NULL,
OR_UPN VARCHAR(50) NOT NULL,
OR_UAD VARCHAR(50) NOT NULL,
OR_PRICE INT NOT NULL,
OR_PAY VARCHAR(20) DEFAULT 'CARD',
FOREIGN KEY(OR_USER) REFERENCES MEMBER(MEM_ID) ON DELETE CASCADE,
CONSTRAINT PIORDER_CH_OR_PAY CHECK (OR_PAY IN('CASH','CARD','SAMSUNG_PAY')
));

CREATE TABLE BBS(
BBS_ID NUMBER(10,0) PRIMARY KEY,
BBS_USER VARCHAR2 (50) NOT NULL,
BBS_TITLE VARCHAR2(50) NOT NULL,
BBS_TEXT CLOB,
BBS_DATE DATE DEFAULT SYSDATE,
FOREIGN KEY(BBS_USER) REFERENCES MEMBER(MEM_ID) ON DELETE SET NULL
);
COMMIT;
SELECT*FROM RP;

CREATE TABLE RP(
RP_ID NUMBER(10,0) PRIMARY KEY,
RP_USER VARCHAR2 (50) NOT NULL,
RP_TEXT CLOB,
RP_BBSID NUMBER(10,0),
RP_DATE DATE DEFAULT SYSDATE,
FOREIGN KEY(RP_USER) REFERENCES MEMBER(MEM_ID) ON DELETE SET NULL,
FOREIGN KEY(RP_BBSID) REFERENCES BBS(BBS_ID) ON DELETE CASCADE
);
COMMIT;
